<?xml version="1.0" encoding="UTF-8"?>
<div xmlns="http://www.w3.org/1999/xhtml" data-template="templates:surround" data-template-with="templates/page.html" data-template-at="content">
    <div class="col-md-12">
        <h1>Replication: Consumer</h1>
        <section>
            <p>XML fragment for the "conf.xml" configuration file.</p>
            
            <div class="alert alert-danger">
            <strong>Please note !</strong> It is recommended to programatically register a replication receiver. See <a href="replication-register.html">the documentation</a>.
        </div>
            
            <pre class="demo:display-source" data-language="xml">&lt;!--
    Start JMS listener for listener of the clustering feature. 
--&gt;
&lt;trigger 
    class="org.exist.jms.replication.subscribe.ReceiverStartupTrigger"&gt;
    &lt;!-- 
        Class name of the initial context provider, default value for ActiveMQ
        see javax.naming.Context#INITIAL_CONTEXT_FACTORY
    --&gt;
    &lt;parameter name="java.naming.factory.initial" 
        value="org.apache.activemq.jndi.ActiveMQInitialContextFactory"/&gt;
    
    &lt;!-- 
        URL of the message broker, default value for ActiveMQ
        see javax.naming.Context#PROVIDER_URL
    --&gt;
    &lt;parameter name="java.naming.provider.url" 
        value="tcp://localhost:61616"/&gt;
    
    &lt;!-- 
        Lookup connection factory
        see javax.naming.InitialContext#lookup(String) 
    --&gt;
    &lt;parameter name="connection-factory" value="ConnectionFactory"/&gt;
    
    &lt;!--
        Lookup destination (topic)
        see javax.naming.InitialContext#lookup(String) 
    --&gt;
    &lt;parameter name="destination" 
                  value="dynamicTopics/eXistdb-replication-demo"/&gt;
    
    &lt;!-- 
        Set the name used to identify this subscription
        see JMS javax.jms.TopicSession#createDurableSubscriber(Topic,String) 
    --&gt;
    &lt;parameter name="subscriber.name" value="SubscriptionId"/&gt;
    
    &lt;!-- 
        Set the client identifier for the connection
        see JMS javax.jms.Connection#setClientID(String) 
    --&gt;
    &lt;parameter name="connection.client-id" value="ClientId"/&gt;
    
&lt;/trigger&gt;
</pre>
        </section>
    </div>
</div>